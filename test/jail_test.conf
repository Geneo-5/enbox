ids   = {
	user      = "grb",
	drop_supp = false
}

jail = {
	namespaces  = [ "mount", "cgroup", "uts", "ipc", "net" ],
	path        = "/tmp/enbox_test",
	fsset       = (
		{
			type   = "proc",
			flags  = [ "ro", "nosuid", "nodev", "noexec", "noatime" ]
			opts   = "hidepid=invisible,subset=pid"
		},
		{
			type   = "dir",
			path   = "etc",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "file",
			path   = "etc/group",
			orig   = "/etc/group",
			flags  = [ "ro", "nodev", "nosuid", "noatime", "noexec" ]
		},
		{
			type   = "dir",
			path   = "lib64",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "file",
			path   = "lib64/ld-linux-x86-64.so.2",
			orig   = "/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "dir",
			path   = "lib",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "file",
			path   = "lib/libc.so.6",
			orig   = "/lib/x86_64-linux-gnu/libc.so.6",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "dir",
			path   = "home";
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb/devel",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb/devel/test",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb/devel/test/out",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb/devel/test/out/root",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "dir",
			path   = "home/grb/devel/test/out/root/lib",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "file",
			path   = "home/grb/devel/test/out/root/lib/libenbox.so",
			orig   = "/home/grb/devel/test/out/root/lib/libenbox.so",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "file",
			path   = "home/grb/devel/test/out/root/lib/libelog.so",
			orig   = "/home/grb/devel/test/out/root/lib/libelog.so",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "file",
			path   = "home/grb/devel/test/out/root/lib/libutils.so",
			orig   = "/home/grb/devel/test/out/root/lib/libutils.so",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "file",
			path   = "home/grb/devel/test/out/root/lib/libstroll.so",
			orig   = "/home/grb/devel/test/out/root/lib/libstroll.so",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "file",
			path   = "home/grb/devel/test/out/root/lib/libconfig.so.11",
			orig   = "/home/grb/devel/test/out/root/lib/libconfig.so.11.1.0",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
		{
			type   = "dir",
			path   = "sbin",
			user   = 0,
			group  = 0,
			mode   = 0755
		},
		{
			type   = "file",
			path   = "sbin/enbox",
			orig   = "/home/grb/devel/test/out/root/sbin/enbox",
			flags  = [ "ro", "nodev", "nosuid", "noatime" ]
		},
	)
}

proc = {
	env   = [ "USER", "SUDO_USER", "BOOLVAR=", "INTVAR=2" ]
	umask = 0022
	caps  = [ "syslog" ]
	cwd   = "/",
	keep_fds = [ 0, 1, 2, 5 ]
}

cmd = [ "/sbin/enbox", "status" ]

# ex: set filetype=config tabstop=4 shiftwidth=4 noexpandtab:
